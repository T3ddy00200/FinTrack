<UserControl x:Class="FinTrack.Pages.SettingsPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="{DynamicResource BackgroundBrush}"
             Loaded="UserControl_Loaded">

    <Grid Margin="20">
        <StackPanel>

            <TextBlock x:Name="Menu_Settings"
                       Text="Настройки"
                       FontSize="24"
                       FontWeight="Bold"
                       Foreground="{DynamicResource TextBrush}"
                       Margin="0,0,0,20"/>

            <!-- Язык интерфейса -->
            <ToggleButton x:Name="LanguageToggleButton"
                          Content="Выбрать язык"
                          Background="{DynamicResource AccentBrush}"
                          Foreground="White"
                          Width="150" Height="30" Margin="0,0,0,10"/>

            <Popup x:Name="LanguagePopup"
                   Placement="Bottom"
                   PlacementTarget="{Binding ElementName=LanguageToggleButton}"
                   IsOpen="{Binding IsChecked, ElementName=LanguageToggleButton}"
                   AllowsTransparency="True"
                   StaysOpen="False"
                   Closed="LanguagePopup_Closed">
                <Border Background="{DynamicResource PanelBackgroundBrush}"
                        BorderBrush="{DynamicResource BorderBrush}"
                        BorderThickness="1" CornerRadius="4">
                    <ScrollViewer MaxHeight="200">
                        <StackPanel>
                            <Button Content="Русский" Tag="ru" Click="LanguageButton_Click"
                                    Background="Transparent" Foreground="{DynamicResource TextBrush}" Padding="10"/>
                            <Button Content="English" Tag="en" Click="LanguageButton_Click"
                                    Background="Transparent" Foreground="{DynamicResource TextBrush}" Padding="10"/>
                        </StackPanel>
                    </ScrollViewer>
                </Border>
            </Popup>

            <!-- Уведомления -->
            <StackPanel Orientation="Horizontal" Margin="0,10,0,10" VerticalAlignment="Center">
                <CheckBox x:Name="Settings_Notifications"
                          Content="Включить уведомления"
                          Foreground="{DynamicResource TextBrush}"
                          FontSize="14"
                          IsChecked="True"/>
            </StackPanel>

            <!-- Заглушка -->
            <TextBlock x:Name="Settings_AutosaveNote"
                       Text="💾 Автосохранение будет реализовано в будущих версиях"
                       FontSize="12"
                       Foreground="{DynamicResource SubTextBrush}"
                       Margin="0,10,0,0"/>
        </StackPanel>
    </Grid>
</UserControl>
